<ng-container *ngIf="isLoading">
    <div class="progress progress-modal">
        <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar"
            style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
</ng-container>
<div>
    <div class="modal-header">
        <div class="modal-title h4" id="example-modal-sizes-title-lg">
            <i class="icon-2x text-dark-50 flaticon-interface-9 mx-2"></i> {{ cTitle }}
        </div>
    </div>
    <div class="overlay overlay-block cursor-default modal-body">
        <ng-container *ngIf="isLoading$ | async">
            <div class="overlay-layer bg-transparent">
                <div class="spinner spinner-lg spinner-success"></div>
            </div>
        </ng-container>

        <form action="#" class="form form-label-right">
            <div class="form-group row">

                <div class="col-6">
                    <div class="col-12 mb-3">
                        <label class="form-label">Nombre de categoria: <span class="text-danger" *ngIf="!descripcion">*</span></label>
                        <input type="text" class="form-control form-control-solid form-control-lg" name="descripcion"
                            placeholder="Nombre" autocomplete="off" [(ngModel)]="descripcion">
                    </div>
                    <div class="col-12 mb-3">
                        <label class="form-label">Icono de categoria:  <span class="text-danger" *ngIf="!icono">*</span></label>
                        <input type="text" class="form-control form-control-solid form-control-lg" name="icono"
                            placeholder="Icono" autocomplete="off" [(ngModel)]="icono">
                    </div>

                    <div class="col-12 py-2">
                        <label class="form-label">Estado:</label>
                        <select class="form-control" name="cboEstado" placeholder="Filtrar por Estado"
                            [formControl]="cboEstado">

                            <option *ngFor="let estado of lstEstados" [value]="estado.nIdEstado">{{ estado.cEstado }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="col-6">
                    <div class="col-12 py-2">
                        <label class="form-label">Sube tu imagen:  <span class="text-danger">*</span></label>
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="customFile"
                                accept=".jpeg, .bmp, .jpg, .png, .gif, .webp" (change)="processFile($event)">
                            <label class="custom-file-label" for="customFile">Choose file</label>
                        </div>
                    </div>
                    <div class="col-12 py-2" *ngIf="imagen_previzualiza">
                        <img [src]="imagen_previzualiza" class="w-100" alt="">
                    </div>
                </div>



            </div>
        </form>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light btn-elevate mr-2" (click)="dialogRef.close(false)">
            Cerrar
        </button>
        <button type="submit" *ngIf="!bEdit" class="btn btn-primary btn-elevate mr-2" (click)="BotonGuardarCategoria()">
            Guardar
        </button>
        <button type="submit" *ngIf="bEdit" class="btn btn-primary btn-elevate mr-2"
            (click)="BotonActualizarCategoria()">
            Actualizar
        </button>
    </div>
</div>